<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>MakeyMakey Battle - thomasm1248 - GitHub</title>
    <link type="text/css" rel="stylesheet" href="webapp.css">
</head>
<body>
    <div class="center-div">
        <canvas
            width="200"
            height="50" id="canvas" class="center-canvas"
                >
        </canvas>
    </div>
    <script>




var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");




var blueHealth = canvas.width;
var redHealth = canvas.width;
var damage = 20;




var endOfGame = false;




function draw() {
    if(endOfGame) {
        return;
    }

    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "blue";
    ctx.fillRect(0, 0, blueHealth, canvas.height / 2);

    ctx.fillStyle = "red";
    ctx.fillRect(0, canvas.height / 2, redHealth, canvas.height / 2);

    if(blueHealth <= 0) {
        endOfGame = true;
        ctx.fillStyle = "red";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    }

    if(redHealth <= 0) {
        endOfGame = true;
        ctx.fillStyle = "blue";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    }
}

draw();




window.addEventListener("keydown", keyDown, false);
function keyDown(e) {
    var prev = false;
    switch(e.keyCode) {
        case 37:
            blueHealth -= damage;
            prev = true;
            break;
        case 39:
            redHealth -= damage;
            prev = true;
            break;
        case 32:
            blueHealth = canvas.width;
            redHealth = canvas.width;
            endOfGame = false;
            draw();
            break;
    }

    if(prev) {
        e.preventDefault();
        draw();
    }
}




    </script>
</body>
</html>
